<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="nombre_reporte" language="groovy" pageWidth="612" pageHeight="792" whenNoDataType="NoDataSection" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20">
	<property name="ireport.zoom" value="1.3636363636363635"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<style name="Crosstab Data Text" hAlign="Center"/>
	<style name="table">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_TH" mode="Opaque" backcolor="#FFFFE0">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_CH" mode="Opaque" backcolor="#FFFFBF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<subDataset name="preins_param">
		<parameter name="codProyecto" class="java.lang.Integer">
			<defaultValueExpression><![CDATA[7]]></defaultValueExpression>
		</parameter>
		<queryString>
			<![CDATA[SELECT api_cra_cod,
api_ape_ano,
 api_ape_per,
 api_est_ran_inf,
 api_est_ran_sup,
 api_verificar_requisito,
 api_nro_semestres,
 api_consecutivos,
 api_maximo_asignaturas,
 api_semestres_superiores,
 api_mas_asignaturas,
 api_prioridad_perdidas,
 api_prioridad, api_estado
 FROM acasperi, acparins
 WHERE ape_estado = 'A'
 AND ape_ano = api_ape_ano
 AND ape_per = api_ape_per
 AND api_cra_cod = $P{codProyecto}
 and api_tipo='P']]>
		</queryString>
		<field name="API_CRA_COD" class="java.math.BigDecimal"/>
		<field name="API_APE_ANO" class="java.math.BigDecimal"/>
		<field name="API_APE_PER" class="java.math.BigDecimal"/>
		<field name="API_EST_RAN_INF" class="java.math.BigDecimal"/>
		<field name="API_EST_RAN_SUP" class="java.math.BigDecimal"/>
		<field name="API_VERIFICAR_REQUISITO" class="java.lang.String"/>
		<field name="API_NRO_SEMESTRES" class="java.math.BigDecimal"/>
		<field name="API_CONSECUTIVOS" class="java.lang.String"/>
		<field name="API_MAXIMO_ASIGNATURAS" class="java.math.BigDecimal"/>
		<field name="API_SEMESTRES_SUPERIORES" class="java.lang.String"/>
		<field name="API_MAS_ASIGNATURAS" class="java.lang.String"/>
		<field name="API_PRIORIDAD_PERDIDAS" class="java.lang.String"/>
		<field name="API_PRIORIDAD" class="java.lang.String"/>
		<field name="API_ESTADO" class="java.lang.String"/>
		<group name="API_CRA_COD">
			<groupExpression><![CDATA[$F{API_CRA_COD}]]></groupExpression>
		</group>
	</subDataset>
	<parameter name="SUBREPORT_DIR" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["/usr/local/apache/htdocs/weboffice/bloque/reportes_preinscripcion/"]]></defaultValueExpression>
	</parameter>
	<parameter name="codProyecto" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[SELECT ape_ano rep_ano,
ape_per rep_per,
cra_cod rep_cra,
cra_nombre,
rep_nro_pen,
REP_TIPO,
DECODE(TRIM(REP_TIPO),'N','ESTUDIANTES NIVELADOS','P','ASIGNATURAS PERDIDAS','O','OTRAS ASIGNATURAS') TIPO,
rep_obs,
rep_est_cod,
asi_cod,
asi_nombre
FROM acasperi, accra, acasi, tmp_resulpreins
WHERE ape_estado = 'A'
AND ape_ano = rep_ano
AND ape_per = rep_per
AND cra_cod = rep_cra
AND asi_cod = rep_pen_asi_cod
AND rep_cra = $P{codProyecto}
AND rep_ins = 'N'
ORDER BY  ape_ano,
ape_per,
cra_cod,
rep_nro_pen,
rep_tipo,
rep_obs,
DECODE(1,1,asi_cod,2,rep_est_cod),
DECODE(2,1,rep_est_cod,2,asi_cod) ASC]]>
	</queryString>
	<field name="REP_ANO" class="java.math.BigDecimal"/>
	<field name="REP_PER" class="java.math.BigDecimal"/>
	<field name="REP_CRA" class="java.math.BigDecimal"/>
	<field name="CRA_NOMBRE" class="java.lang.String"/>
	<field name="REP_NRO_PEN" class="java.math.BigDecimal"/>
	<field name="REP_TIPO" class="java.lang.String"/>
	<field name="TIPO" class="java.lang.String"/>
	<field name="REP_OBS" class="java.lang.String"/>
	<field name="REP_EST_COD" class="java.math.BigDecimal"/>
	<field name="ASI_COD" class="java.math.BigDecimal"/>
	<field name="ASI_NOMBRE" class="java.lang.String"/>
	<variable name="REP_EST_COD_1" class="java.lang.Integer" resetType="Group" resetGroup="ASIGNATURA" calculation="Count">
		<variableExpression><![CDATA[$F{REP_EST_COD}]]></variableExpression>
	</variable>
	<variable name="REP_EST_COD_2" class="java.lang.Integer" resetType="Group" resetGroup="ASIGNATURA" calculation="DistinctCount">
		<variableExpression><![CDATA[$F{REP_EST_COD}]]></variableExpression>
	</variable>
	<group name="grupo">
		<groupExpression><![CDATA[$F{REP_CRA}]]></groupExpression>
		<groupHeader>
			<band height="37">
				<subreport>
					<reportElement mode="Opaque" x="0" y="0" width="572" height="37"/>
					<subreportParameter name="codProyecto">
						<subreportParameterExpression><![CDATA[$P{codProyecto}]]></subreportParameterExpression>
					</subreportParameter>
					<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					<subreportExpression class="java.lang.String"><![CDATA[$P{SUBREPORT_DIR} + "no_inscritos_detallado.jasper"]]></subreportExpression>
				</subreport>
			</band>
		</groupHeader>
	</group>
	<group name="tipo_inscripcion">
		<groupExpression><![CDATA[$F{REP_TIPO}]]></groupExpression>
		<groupHeader>
			<band height="21">
				<staticText>
					<reportElement mode="Opaque" x="1" y="0" width="107" height="20"/>
					<textElement textAlignment="Left" verticalAlignment="Middle">
						<font isBold="true"/>
					</textElement>
					<text><![CDATA[PROCEDIMIENTO: ]]></text>
				</staticText>
				<textField isStretchWithOverflow="true">
					<reportElement mode="Opaque" x="108" y="0" width="232" height="20" isRemoveLineWhenBlank="true" isPrintInFirstWholeBand="true"/>
					<textElement verticalAlignment="Middle"/>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{TIPO}]]></textFieldExpression>
				</textField>
			</band>
		</groupHeader>
		<groupFooter>
			<band/>
		</groupFooter>
	</group>
	<group name="pensum">
		<groupExpression><![CDATA[$F{REP_NRO_PEN}]]></groupExpression>
		<groupHeader>
			<band height="20">
				<textField>
					<reportElement mode="Opaque" x="62" y="0" width="100" height="20"/>
					<textElement verticalAlignment="Middle"/>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{REP_NRO_PEN}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement mode="Opaque" x="1" y="0" width="59" height="20"/>
					<textElement verticalAlignment="Middle" markup="none">
						<font isBold="true"/>
					</textElement>
					<text><![CDATA[PENSUM: ]]></text>
				</staticText>
			</band>
		</groupHeader>
		<groupFooter>
			<band/>
		</groupFooter>
	</group>
	<group name="observaciones">
		<groupExpression><![CDATA[$F{REP_OBS}]]></groupExpression>
		<groupHeader>
			<band height="20">
				<textField isStretchWithOverflow="true">
					<reportElement mode="Opaque" x="96" y="0" width="409" height="20"/>
					<textElement verticalAlignment="Middle"/>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{REP_OBS}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement mode="Opaque" x="1" y="0" width="90" height="20"/>
					<textElement verticalAlignment="Middle">
						<font isBold="true"/>
					</textElement>
					<text><![CDATA[OBSERVACIÓN: ]]></text>
				</staticText>
			</band>
		</groupHeader>
		<groupFooter>
			<band/>
		</groupFooter>
	</group>
	<group name="titulos">
		<groupExpression><![CDATA[$F{REP_OBS}]]></groupExpression>
		<groupHeader>
			<band height="28">
				<staticText>
					<reportElement mode="Opaque" x="75" y="3" width="100" height="25"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font isBold="true"/>
					</textElement>
					<text><![CDATA[CÓDIGO ASIGNATURA]]></text>
				</staticText>
				<staticText>
					<reportElement mode="Opaque" x="175" y="3" width="235" height="25"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font isBold="true"/>
					</textElement>
					<text><![CDATA[NOMBRE ASIGNATURA]]></text>
				</staticText>
				<staticText>
					<reportElement mode="Opaque" x="410" y="3" width="100" height="25"/>
					<textElement textAlignment="Center">
						<font isBold="true"/>
					</textElement>
					<text><![CDATA[NRO ESTUDIANTES]]></text>
				</staticText>
			</band>
		</groupHeader>
		<groupFooter>
			<band/>
		</groupFooter>
	</group>
	<group name="ASIGNATURA">
		<groupExpression><![CDATA[$F{ASI_COD}]]></groupExpression>
		<groupHeader>
			<band height="20">
				<textField>
					<reportElement mode="Opaque" x="75" y="0" width="100" height="20"/>
					<textElement textAlignment="Center" verticalAlignment="Middle"/>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{ASI_COD}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement mode="Opaque" x="175" y="0" width="235" height="20"/>
					<textElement verticalAlignment="Middle"/>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{ASI_NOMBRE}]]></textFieldExpression>
				</textField>
				<textField evaluationTime="Group" evaluationGroup="ASIGNATURA">
					<reportElement mode="Opaque" x="410" y="0" width="100" height="20"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font isBold="true"/>
					</textElement>
					<textFieldExpression class="java.lang.Integer"><![CDATA[$V{REP_EST_COD_2}]]></textFieldExpression>
				</textField>
			</band>
		</groupHeader>
		<groupFooter>
			<band/>
		</groupFooter>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="81" splitType="Stretch">
			<staticText>
				<reportElement mode="Opaque" x="499" y="12" width="20" height="20" forecolor="#FFFFFF"/>
				<textElement>
					<font fontName="SansSerif"/>
				</textElement>
				<text><![CDATA[Referencia:Reporte de ejecucion de rubro]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="499" y="32" width="20" height="20" forecolor="#FFFFFF"/>
				<textElement/>
				<text><![CDATA[Descripcion:Reporte que muestra los rubros.]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="499" y="52" width="20" height="20" forecolor="#FFFFFF"/>
				<textElement/>
				<text><![CDATA[ParametrosRep:VIGENCIA,FECHA_CARGA,UNIDAD_EJEC,RUBRO]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="77" y="3" width="419" height="25"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="SansSerif" size="20" isBold="false" isStrikeThrough="false"/>
				</textElement>
				<text><![CDATA[Universidad Distrital]]></text>
			</staticText>
			<image hAlign="Center">
				<reportElement mode="Opaque" x="3" y="2" width="55" height="60"/>
				<imageExpression class="java.lang.String"><![CDATA["/usr/local/apache/htdocs/weboffice/grafico/EscudoUDistrital.png"]]></imageExpression>
			</image>
			<image>
				<reportElement mode="Opaque" x="522" y="16" width="48" height="42"/>
				<imageExpression class="java.lang.String"><![CDATA["/usr/local/apache/htdocs/weboffice/grafico/oas.png"]]></imageExpression>
			</image>
			<staticText>
				<reportElement mode="Opaque" x="77" y="33" width="419" height="25"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="SansSerif" size="18" isBold="false"/>
				</textElement>
				<text><![CDATA["FRANCISCO JOSÉ DE CALDAS"]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="1" y="64" width="59" height="12"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="SansSerif" size="4" isBold="false"/>
				</textElement>
				<text><![CDATA[Universidad Distrital Francisco Jose de Caldas]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="525" y="58" width="43" height="11"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="SansSerif" size="4" isBold="false"/>
				</textElement>
				<text><![CDATA[Oficina Asesora de Sistemas]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="77" y="58" width="419" height="20"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="SansSerif" size="16" isBold="false"/>
				</textElement>
				<text><![CDATA[CONDOR]]></text>
			</staticText>
		</band>
	</title>
	<pageHeader>
		<band height="39" splitType="Stretch">
			<staticText>
				<reportElement mode="Opaque" x="6" y="2" width="558" height="18"/>
				<textElement textAlignment="Center" markup="none">
					<font fontName="SansSerif" size="12" isBold="false"/>
				</textElement>
				<text><![CDATA[ASIGNATURAS NO INSCRITAS]]></text>
			</staticText>
			<subreport>
				<reportElement mode="Opaque" x="0" y="20" width="572" height="15"/>
				<subreportParameter name="codProyecto">
					<subreportParameterExpression><![CDATA[$P{codProyecto}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression class="java.lang.String"><![CDATA[$P{SUBREPORT_DIR} + "no_inscritos_parametros.jasper"]]></subreportExpression>
			</subreport>
		</band>
	</pageHeader>
	<columnHeader>
		<band height="7" splitType="Stretch"/>
	</columnHeader>
	<columnFooter>
		<band height="37" splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band height="24" splitType="Stretch">
			<line>
				<reportElement mode="Opaque" x="0" y="0" width="572" height="1" forecolor="#808080"/>
			</line>
			<staticText>
				<reportElement mode="Opaque" x="205" y="13" width="166" height="8"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="SansSerif" size="5" isBold="false"/>
				</textElement>
				<text><![CDATA[Univesidad Distrital "Francisco José de Caldas"]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="205" y="5" width="166" height="8"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="SansSerif" size="5" isBold="false"/>
				</textElement>
				<text><![CDATA[Oficina Asesora de Sistemas]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="1" y="5" width="190" height="8"/>
				<textElement verticalAlignment="Middle">
					<font fontName="SansSerif" size="5" isBold="false"/>
				</textElement>
				<text><![CDATA[Impreso por: Condor]]></text>
			</staticText>
			<textField evaluationTime="Report" pattern="" isBlankWhenNull="false">
				<reportElement key="textField" mode="Opaque" x="560" y="5" width="11" height="8" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font fontName="SansSerif" size="5" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["" + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<textField pattern="" isBlankWhenNull="false">
				<reportElement key="textField" mode="Opaque" x="380" y="5" width="180" height="8" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="SansSerif" size="5" isBold="false"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["Página " + $V{PAGE_NUMBER} + " de "]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement mode="Opaque" x="1" y="13" width="190" height="8"/>
				<textElement verticalAlignment="Middle">
					<font fontName="SansSerif" size="5" isBold="false"/>
				</textElement>
				<text><![CDATA[Fuente de información: Aplicación Académica]]></text>
			</staticText>
			<textField pattern="dd/MM/yyyy h.mm a" isBlankWhenNull="false">
				<reportElement key="textField" mode="Opaque" x="380" y="13" width="191" height="8" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="SansSerif" size="5" isBold="false"/>
				</textElement>
				<textFieldExpression class="java.util.Date"><![CDATA[new Date()]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
	<noData>
		<band height="288">
			<staticText>
				<reportElement mode="Opaque" x="78" y="58" width="419" height="20"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="SansSerif" size="16" isBold="false"/>
				</textElement>
				<text><![CDATA[CONDOR]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="78" y="33" width="419" height="25"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="SansSerif" size="20" isBold="false"/>
				</textElement>
				<text><![CDATA["FRANCISCO JOSÉ DE CALDAS"]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="78" y="8" width="419" height="25"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="SansSerif" size="20" isBold="false" isStrikeThrough="false"/>
				</textElement>
				<text><![CDATA[Universidad Distrital]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="7" y="87" width="558" height="17"/>
				<textElement textAlignment="Center" markup="none">
					<font fontName="SansSerif" size="12" isBold="false"/>
				</textElement>
				<text><![CDATA[ASIGNATURAS NO INSCRITAS]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="525" y="58" width="43" height="11"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="SansSerif" size="4" isBold="false"/>
				</textElement>
				<text><![CDATA[Oficina Asesora de Sistemas]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="1" y="64" width="59" height="12"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="SansSerif" size="4" isBold="false"/>
				</textElement>
				<text><![CDATA[Universidad Distrital Francisco Jose de Caldas]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="77" y="170" width="406" height="18" forecolor="#FF0404"/>
				<textElement textAlignment="Center" markup="none"/>
				<text><![CDATA[NO SE ENCONTRARON DATOS PARA EL PROYECTO CURRICULAR]]></text>
			</staticText>
			<image hAlign="Center">
				<reportElement mode="Opaque" x="0" y="4" width="55" height="60"/>
				<imageExpression class="java.lang.String"><![CDATA["/usr/local/apache/htdocs/weboffice/grafico/EscudoUDistrital.png"]]></imageExpression>
			</image>
			<image>
				<reportElement mode="Opaque" x="520" y="8" width="48" height="42"/>
				<imageExpression class="java.lang.String"><![CDATA["/usr/local/apache/htdocs/weboffice/grafico/oas.png"]]></imageExpression>
			</image>
			<textField>
				<reportElement mode="Opaque" x="253" y="188" width="100" height="20"/>
				<textElement textAlignment="Center"/>
				<textFieldExpression class="java.lang.String"><![CDATA[$P{codProyecto}]]></textFieldExpression>
			</textField>
		</band>
	</noData>
</jasperReport>
